<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

<div id="life-map" style="height: 600px; width: 100%; z-index: 1;"></div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var map = L.map('life-map').setView([39.9042, 116.4074], 4); // Default view (e.g., Beijing)

        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        // Example data points - You can replace this with a JSON file load or Hugo data iteration
        var points = [
            { lat: 30.587206, lng: 104.066792, title: "天府大道", img: "https://img.junren.li/DSC09527.JPG" },
        ];

        points.forEach(function(point) {
            var marker = L.marker([point.lat, point.lng]).addTo(map);
            var popupContent = `
                <div style="text-align: center;">
                    <b>${point.title}</b><br>
                    <img src="${point.img}" style="width: 500px; height: auto; margin-top: 5px;">
                </div>
            `;
            marker.bindPopup(popupContent);

            marker.on('mouseover', function (e) {
                this.openPopup();
            });
            
            // Optional: close on mouseout
            // marker.on('mouseout', function (e) {
            //     this.closePopup();
            // });
        });
    });
</script>
